using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

public partial class PopUp_Profilo_ModificaProfilo : System.Web.UI.Page
{
    protected void Page_Load(object sender, EventArgs e)
    {
        //if (!IsPostBack)
        //{
        //    // Se non vi è nessun elemento selezionato impedisco il proseguimento
        //    if (string.IsNullOrEmpty(Session["CodiceDoc"].ToString()))
        //    {
        //        ScriptManager.RegisterClientScriptBlock(this, GetType(), "ATTENZIONE", "alert('Errore')", true);
        //        return;
        //    }

        //  [WebMethod]

        //    ESTERNI E = new ESTERNI();
        //    E.CodiceDoc = int.Parse(Session["CodiceDoc"].ToString());
        //    DataTable dt = E.SelectOne();


        //    txtUser.Text = dt.Rows[0]["Usr"].ToString();
        //    txtRagSoc.Text = dt.Rows[0]["Ragione_Sociale"].ToString();
        //    txtCognome.Text = dt.Rows[0]["Cognome"].ToString();
        //    txtNome.Text = dt.Rows[0]["Nome"].ToString();
        //    txtDataNascita.Text = dt.Rows[0]["Data_Nascita"].ToString();
        //    txtIva.Text = dt.Rows[0]["Piva"].ToString();
        //    txtCF.Text = dt.Rows[0]["CF"].ToString();
        //    txtIndirizzo.Text = dt.Rows[0]["Indirizzo"].ToString();
        //    txtCap.Text = dt.Rows[0]["Cap"].ToString();
        //    txtCitta.Text = dt.Rows[0]["Citta"].ToString();
        //    txtProvincia.Text = dt.Rows[0]["Provincia"].ToString();
        //    txtNazionalita.Text = dt.Rows[0]["Nazionalita"].ToString();



        //}
    }

    protected void btnModifica_Click(object sender, EventArgs e)
    {
        //    // Controlli formali
        //    if (string.IsNullOrEmpty(txtUser.Text.Trim()) ||
        //        string.IsNullOrEmpty(txtRagSoc.Text.Trim()) ||
        //        string.IsNullOrEmpty(txtCognome.Text.Trim()) ||
        //        string.IsNullOrEmpty(txtNome.Text.Trim()) ||
        //        string.IsNullOrEmpty(txtDataNascita.Text.Trim()) ||
        //        string.IsNullOrEmpty(txtIva.Text.Trim()) ||
        //        string.IsNullOrEmpty(txtCF.Text.Trim()) ||
        //        string.IsNullOrEmpty(txtIndirizzo.Text.Trim()) ||
        //        string.IsNullOrEmpty(txtCap.Text.Trim()) ||
        //        string.IsNullOrEmpty(txtCitta.Text.Trim()) ||
        //        string.IsNullOrEmpty(txtProvincia.Text.Trim()) ||
        //        string.IsNullOrEmpty(txtNazionalita.Text.Trim()) ||
        //int.TryParse(txtCap.Text, out int result)) ||
        //int.TryParse(txtIva.Text, out int result)))

        //    {
        //        ScriptManager.RegisterClientScriptBlock(this, GetType(), "ERRORE", "alert('Dati non validi')", true);
        //        return;
        //    }

        //  [WebMethod]
        //    ESTERNI E = new ESTERNI();

        //    E.User = txtUser.Text.Trim();
        //    =txtRagSoc.Text.Trim();
        //    =txtCognome.Text.Trim();
        //    =txtNome.Text.Trim();
        //    =txtDataNascita.Text.Trim();
        //    =txtIva.Text.Trim();
        //    =txtCF.Text.Trim();
        //    =txtCF.Text.Trim();
        //    =txtIndirizzo.Text;
        //    =txtCF.Text.Trim();
        //    = txtCap.Text;
        //    =txtCF.Text.Trim();
        //    = txtCitta.Text;
        //    =txtCF.Text.Trim();
        //    = txtProvincia.Text;
        //    =txtCF.Text.Trim();
        //    = txtNazionalita.Text;

        //E.Update();
        //ScriptManager.RegisterClientScriptBlock(this, GetType(), "SUCCESSO", "alert('Dati modificati correttamente')", true);


        //E.CHIAVE = 1;
        //E.USR = txtUser.Text.Trim();
        //E.RAGIONE_SOCIALE = txtRagSoc.Text.Trim();
        //E.COGNOME = txtCognome.Text.Trim();
        //E.NOME = txtNome.Text.Trim();
        //E.DATA_NASCITA = txtDataNascita.Text.Trim();
        //E.PIVA = txtIva.Text.Trim();
        //E.CF = txtCF.Text.Trim();
        //E.INDIRIZZO = txtIndirizzo.Text.Trim();
        //E.CAP = txtCap.Text.Trim();
        //E.CITTA = txtCitta.Text.Trim();
        //E.PROVINCIA = txtProvincia.Text.Trim();
        //E.NAZIONALITA = txtNazionalita.Text.Trim();

        //E.UpdateProfilo();


        ////dichiaro variabili
        //if (!FileUpload1.HasFile)
        //{
        //    E.Avatar = imgVecchia;
        //}
        //else
        //{
        //    E.Avatar = FileUpload1.FileBytes;
        //}

        //Estensione??

    }
}